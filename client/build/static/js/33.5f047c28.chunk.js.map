{"version":3,"sources":["components/Image/ImageViewer.js","components/Image/index.js","components/Image/Image.js","routes/UI/Image/components/index.js","components/BaseComponent/index.js","components/Panel/Panel.js","components/Panel/index.js","../node_modules/antd/lib/popconfirm/style/index.js","../node_modules/antd/lib/popconfirm/index.js"],"names":["Mode","CONTAIN","name","icon","ORIGINAL","mousewheelEventName","document","createElement","undefined","onmousewheel","ImageViewer","props","onMouseDown","e","loading","button","transform","state","offsetX","offsetY","startX","pageX","startY","pageY","_dragHandler","rafThrottle","ev","setState","addEventListener","removeEventListener","preventDefault","handleActions","action","options","zoomRate","rotateDeg","enableTransition","scale","parseFloat","toFixed","deg","prev","isFirst","infinite","len","dataList","length","currentIndex","next","isLast","imgStyle","style","transition","filter","marginLeft","marginTop","maxWidth","maxHeight","mode","deviceSupportInstall","_keyDownHandler","keyCode","onClose","toggleMode","_mouseWheelHandler","wheelDelta","detail","modeNames","Object","keys","nextIndex","values","indexOf","handleImgLoad","handleImgError","target","alt","initialIndex","this","wrapper","focus","deviceSupportUninstall","onSwitch","className","tabIndex","ref","node","onClick","Icon","type","antd","size","spinning","src","onLoad","onError","React","Component","fn","locked","args","window","requestAnimationFrame","_","apply","defaultProps","Image","showViewer","onShowViewer","preview","prevOverflow","body","overflow","onCloseViewer","previewList","Array","isArray","cx","visible","Content","connect","Panel","title","width","BaseComponent","notice","config","onAdd","record","onUpdate","onDelete","$$","content","confirm","onOk","handleDelete","onCancel","records","history","noop","onExpand","expand","onChange","collapse","onCollapse","onRefresh","refresh","animationName","theme","prefix","height","children","header","cover","scroll","classnames","styles","bodyStyles","Header","onConfirm","placement","CSSAnimate","callback","key","nextProps","prevState","isEqual","require","defineProperty","exports","value","obj","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_ExclamationCircleFilled","_interopRequireDefault","_tooltip","_button","_LocaleReceiver","_default2","_configProvider","WeakMap","Symbol","iterator","constructor","_extends","assign","i","arguments","source","_defineProperties","descriptor","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","__rest","s","t","getOwnPropertySymbols","propertyIsEnumerable","Popconfirm","_React$Component","_this","instance","Constructor","TypeError","_classCallCheck","setVisible","onVisibleChange","disabled","saveTooltip","tooltip","renderOverlay","prefixCls","popconfirmLocale","_this$props","okButtonProps","cancelButtonProps","cancelText","okText","okType","concat","renderConfirm","_ref","getPrefixCls","_a","customizePrefixCls","restProps","overlay","componentName","defaultLocale","protoProps","staticProps","subClass","superClass","create","_inherits","defaultVisible","getPopupDomNode","ConfigConsumer","transitionName","trigger","_default"],"mappings":"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","file":"static/js/33.5f047c28.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Icon from 'components/Icon';\r\nimport { Spin } from 'antd';\r\nimport './style/index.less';\r\n\r\n/**\r\n * 预览\r\n */\r\nconst Mode = {\r\n  CONTAIN: {\r\n    name: 'contain',\r\n    icon: 'antui-icon-full-screen'\r\n  },\r\n  ORIGINAL: {\r\n    name: 'original',\r\n    icon: 'antui-icon-c-scale-to-original'\r\n  }\r\n};\r\n\r\nconst mousewheelEventName = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // 各个厂商的高版本浏览器都支持\"wheel\"\r\n  document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit 和 IE一定支持\"mousewheel\"\r\n    \"DOMMouseScroll\";\r\n\r\nclass ImageViewer extends React.Component {\r\n  static propTypes = {\r\n    dataList: PropTypes.array,\r\n    onSwitch: PropTypes.func,\r\n    onClose: PropTypes.func,\r\n    initialIndex: PropTypes.number,\r\n    visible: PropTypes.bool\r\n  };\r\n\r\n  static defaultProps = {\r\n    initialIndex: 0,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentIndex: props.initialIndex,\r\n      loading: true,\r\n      mode: Mode.CONTAIN,\r\n      transform: {\r\n        scale: 1,\r\n        deg: 0,\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n        enableTransition: true\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.deviceSupportInstall();\r\n    this.wrapper.focus();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.deviceSupportUninstall();\r\n  }\r\n\r\n  onMouseDown = e => {\r\n    if (this.loading || e.button !== 0) return;\r\n    const { transform } = this.state;\r\n    const { offsetX, offsetY } = transform;\r\n    const startX = e.pageX;\r\n    const startY = e.pageY;\r\n    this._dragHandler = rafThrottle(ev => {\r\n      transform.offsetX = offsetX + ev.pageX - startX;\r\n      transform.offsetY = offsetY + ev.pageY - startY;\r\n      this.setState({\r\n        transform\r\n      })\r\n    });\r\n\r\n    document.addEventListener('mousemove', this._dragHandler)\r\n    document.addEventListener('mouseup', ev => {\r\n      document.removeEventListener(\"mousemove\", this._dragHandler);\r\n    })\r\n\r\n    e.preventDefault();\r\n  }\r\n\r\n  handleActions = (action, options = {}) => {\r\n    if (this.loading) return;\r\n    const { zoomRate, rotateDeg, enableTransition } = {\r\n      zoomRate: 0.2,\r\n      rotateDeg: 90,\r\n      enableTransition: true,\r\n      ...options\r\n    };\r\n    const { transform } = this.state;\r\n    switch (action) {\r\n      case 'zoomOut':\r\n        if (transform.scale > 0.2) {\r\n          transform.scale = parseFloat((transform.scale - zoomRate).toFixed(3));\r\n        }\r\n        break;\r\n      case 'zoomIn':\r\n        transform.scale = parseFloat((transform.scale + zoomRate).toFixed(3));\r\n        break;\r\n      case 'clocelise':\r\n        transform.deg += rotateDeg;\r\n        break;\r\n      case 'anticlocelise':\r\n        transform.deg -= rotateDeg;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    transform.enableTransition = enableTransition;\r\n    this.setState({\r\n      transform\r\n    })\r\n  }\r\n\r\n  prev = () => {\r\n    if (this.isFirst && !this.infinite) return;\r\n\r\n    const len = this.props.dataList.length;\r\n    this.setState({\r\n      currentIndex: (this.state.currentIndex - 1 + len) % len,\r\n      loading: true,\r\n    })\r\n  }\r\n\r\n  next = () => {\r\n    if (this.isLast && !this.infinite) return;\r\n\r\n    const len = this.props.dataList.length;\r\n    this.setState({\r\n      currentIndex: (this.state.currentIndex + 1) % len,\r\n      loading: true,\r\n    })\r\n  }\r\n\r\n  imgStyle = () => {\r\n    const { scale, deg, offsetX, offsetY, enableTransition } = this.state.transform;\r\n    const { loading } = this.state;\r\n    const style = {\r\n      transform: `scale(${scale}) rotate(${deg}deg) translateZ(0)`,\r\n      transition: enableTransition ? 'all .3s ease-out' : '',\r\n      filter: `blur(${loading ? '16px' : '0'})`,\r\n      marginLeft: `${offsetX}px`,\r\n      marginTop: `${offsetY}px`,\r\n      maxWidth: '1000%',\r\n      maxHeight: '1000%'\r\n    };\r\n    if (this.state.mode === Mode.CONTAIN) {\r\n      style.maxWidth = style.maxHeight = '100%';\r\n    }\r\n    return style;\r\n  }\r\n\r\n  deviceSupportInstall = () => {\r\n    this._keyDownHandler = rafThrottle(e => {\r\n      const keyCode = e.keyCode;\r\n      switch (keyCode) {\r\n        // ESC\r\n        case 27:\r\n          this.props.onClose();\r\n          break;\r\n        // SPACE\r\n        case 32:\r\n          this.toggleMode();\r\n          break;\r\n        // LEFT_ARROW\r\n        case 37:\r\n          this.prev();\r\n          break;\r\n        // UP_ARROW\r\n        case 38:\r\n          this.handleActions('zoomIn');\r\n          break;\r\n        // RIGHT_ARROW\r\n        case 39:\r\n          this.next();\r\n          break;\r\n        // DOWN_ARROW\r\n        case 40:\r\n          this.handleActions('zoomOut');\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n\r\n    this._mouseWheelHandler = rafThrottle(e => {\r\n      const delta = e.wheelDelta ? e.wheelDelta : -e.detail;\r\n      if (delta > 0) {\r\n        this.handleActions('zoomIn', {\r\n          zoomRate: 0.1,\r\n          enableTransition: true\r\n        });\r\n      } else {\r\n        this.handleActions('zoomOut', {\r\n          zoomRate: 0.1,\r\n          enableTransition: true\r\n        });\r\n      }\r\n    });\r\n\r\n    document.addEventListener('keydown', this._keyDownHandler);\r\n    document.addEventListener(mousewheelEventName, this._mouseWheelHandler);\r\n  }\r\n\r\n  deviceSupportUninstall() {\r\n    document.removeEventListener('keydown', this._keyDownHandler);\r\n    document.removeEventListener(mousewheelEventName, this._mouseWheelHandler);\r\n    this._keyDownHandler = null;\r\n    this._mouseWheelHandler = null;\r\n  }\r\n\r\n  toggleMode = () => {\r\n    if (this.loading) return;\r\n    const modeNames = Object.keys(Mode);\r\n    const modeValues = Object.values(Mode);\r\n    const index = modeValues.indexOf(this.state.mode);\r\n    const nextIndex = (index + 1) % modeNames.length;\r\n\r\n    this.setState({\r\n      mode: Mode[modeNames[nextIndex]],\r\n      transform: {\r\n        scale: 1,\r\n        deg: 0,\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n        enableTransition: true\r\n      }\r\n    })\r\n  }\r\n\r\n  handleImgLoad = (e) => {\r\n    this.setState({\r\n      loading: false,\r\n      mode: Mode.CONTAIN,\r\n      transform: {\r\n        scale: 1,\r\n        deg: 0,\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n        enableTransition: true\r\n      }\r\n    })\r\n  }\r\n\r\n  handleImgError = (e) => {\r\n    e.target.alt = '加载失败';\r\n    this.setState({\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { dataList, onClose, onSwitch } = this.props;\r\n    const { currentIndex } = this.state;\r\n\r\n    return (\r\n      <div className=\"antui-image-viewer__wrapper\" tabIndex=\"-1\" ref={node => this.wrapper = node}>\r\n        <div className=\"antui-image-viewer__mask\"></div>\r\n        <span className=\"antui-image-viewer__close\" onClick={onClose}>\r\n          <Icon type=\"CloseCircleOutlined\" antd />\r\n        </span>\r\n\r\n        {dataList.length === 1 ? null : (\r\n          <>\r\n            <span className=\"antui-image-viewer__prev\" onClick={this.prev}>\r\n              <Icon type=\"LeftCircleOutlined\" antd />\r\n            </span>\r\n            <span className=\"antui-image-viewer__next\" onClick={this.next}>\r\n              <Icon type=\"RightCircleOutlined\" antd />\r\n            </span>\r\n          </>\r\n        )}\r\n\r\n        <div className=\"antui-image-viewer__actions\">\r\n          <div className=\"antui-image-viewer__actions__inner\">\r\n            <Icon type=\"ZoomOutOutlined\" antd onClick={e => this.handleActions('zoomOut')} />\r\n            <Icon type=\"ZoomInOutlined\" antd onClick={e => this.handleActions('zoomIn')} />\r\n            <i className=\"antui-image-viewer__actions__divider\"></i>\r\n            <Icon type=\"ExpandOutlined\" antd onClick={this.toggleMode} />\r\n            <i className=\"antui-image-viewer__actions__divider\"></i>\r\n            <Icon type=\"UndoOutlined\" antd onClick={e => this.handleActions('anticlocelise')} />\r\n            <Icon type=\"RedoOutlined\" antd onClick={e => this.handleActions('clocelise')} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"antui-image-viewer__canvas\">\r\n          <Spin size=\"large\" spinning={this.state.loading} />\r\n          <img\r\n            alt=\"\"\r\n            src={dataList[currentIndex]}\r\n            style={this.imgStyle()}\r\n            className=\"antui-image-viewer__img\"\r\n            onMouseDown={this.onMouseDown}\r\n            onLoad={this.handleImgLoad}\r\n            onError={this.handleImgError}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport function rafThrottle(fn) {\r\n  let locked = false;\r\n  return function (...args) {\r\n    if (locked) return;\r\n    locked = true;\r\n    window.requestAnimationFrame(_ => {\r\n      fn.apply(this, args);\r\n      locked = false;\r\n    });\r\n  };\r\n}\r\n\r\nexport default ImageViewer;","import Image from './Image';\r\n\r\nexport default Image;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport ImageViewer from './ImageViewer';\r\nimport './style/index.less';\r\n\r\n/**\r\n * 图片组件，支持预览等功能\r\n */\r\nclass Image extends React.Component {\r\n  static propTypes = {\r\n    previewList: PropTypes.array,\r\n    onSwitch: PropTypes.func,\r\n    onClose: PropTypes.func,\r\n    initialIndex: PropTypes.number\r\n  };\r\n\r\n  state = {\r\n    showViewer: false\r\n  }\r\n\r\n  onShowViewer = () => {\r\n    if (!this.preview) {\r\n      return;\r\n    }\r\n\r\n    this.prevOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = 'hidden';\r\n    this.setState({\r\n      showViewer: true\r\n    })\r\n  }\r\n\r\n  onCloseViewer = () => {\r\n    document.body.style.overflow = this.prevOverflow;\r\n    this.setState({\r\n      showViewer: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { src, previewList, onSwitch, initialIndex, ...props } = this.props;\r\n    const { showViewer } = this.state;\r\n\r\n    this.preview = Array.isArray(previewList) && previewList.length;\r\n    return (\r\n      <div className=\"antui-image\" {...props}>\r\n        <img\r\n          src={src}\r\n          alt=\"\"\r\n          onClick={this.onShowViewer}\r\n          className={\r\n            cx(\"antui-image__inner\", { \"antui-image__preview\": this.preview })\r\n          }\r\n        />\r\n        {this.preview && showViewer ? (\r\n          <ImageViewer\r\n            initialIndex={initialIndex}\r\n            dataList={previewList}\r\n            visible={showViewer}\r\n            onClose={this.onCloseViewer}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { Layout, Button } from 'antd';\r\nimport BaseComponent from 'components/BaseComponent';\r\nimport Panel from 'components/Panel';\r\nimport Image from 'components/Image';\r\nconst { Content } = Layout;\r\n\r\n@connect()\r\nexport default class extends BaseComponent {\r\n  render() {\r\n    return (\r\n      <Layout className=\"full-layout page base-component-page\">\r\n        <Content>\r\n          <Panel title=\"Image / 图片\">\r\n            <p>图片相关组件</p>\r\n          </Panel>\r\n          <Panel title=\"图片预览\">\r\n            <Image\r\n              style={{ width: 200 }}\r\n              src=\"https://www.foodiesfeed.com/wp-content/uploads/2015/09/summer-juicy-beef-burger.jpg\"\r\n              previewList={[\r\n                'https://www.foodiesfeed.com/wp-content/uploads/2017/05/juicy-burger-in-a-vibrant-interior.jpg',\r\n                'https://www.foodiesfeed.com/wp-content/uploads/2019/06/top-view-for-box-of-2-burgers-home-made.jpg',\r\n                'https://www.foodiesfeed.com/wp-content/uploads/2019/04/mae-mu-pancakes.jpg'\r\n              ]}\r\n            />\r\n          </Panel>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport $$ from 'cmn-utils';\r\nimport config from '@/config';\r\n\r\nclass BaseComponent extends React.Component {\r\n  notice = config.notice; // 消息通知\r\n\r\n  /**\r\n   * history api 路由跳转\r\n   */\r\n  get history() { \r\n    return this.props.history;\r\n  }\r\n\r\n  /**\r\n   * 新增\r\n   */\r\n  onAdd = () => {\r\n    this.setState({\r\n      record: null,\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 修改\r\n   * @param {object} 表单记录\r\n   */\r\n  onUpdate = record => {\r\n    this.setState({\r\n      record,\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 删除\r\n   * @param {object | array} 表单记录, 批量删除时为数组\r\n   */\r\n  onDelete = record => {\r\n    if (!record) return;\r\n    if ($$.isArray(record) && !record.length) return;\r\n\r\n    const content = `您是否要删除这${\r\n      $$.isArray(record) ? record.length : ''\r\n    }项？`;\r\n\r\n    Modal.confirm({\r\n      title: '注意',\r\n      content,\r\n      onOk: () => {\r\n        this.handleDelete($$.isArray(record) ? record : [record]);\r\n      },\r\n      onCancel() {}\r\n    });\r\n  };\r\n\r\n  handleAdd() {\r\n    /* 子类重写 */\r\n  }\r\n  handleUpdate() {\r\n    /* 子类重写 */\r\n  }\r\n  handleDelete(records) {\r\n    /* 子类重写 */\r\n  }\r\n}\r\n\r\nexport default BaseComponent;\r\n","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport cx from 'classnames';\r\nimport CSSAnimate from '../CSSAnimate';\r\nimport { Popconfirm, Modal } from 'antd';\r\nimport isEqual from 'react-fast-compare';\r\nimport './style/index.less';\r\nconst confirm = Modal.confirm;\r\nconst noop = _ => {};\r\n/**\r\n * 面板组件\r\n */\r\nclass Panel extends Component {\r\n  static defaultProps = {\r\n    prefix: 'antui-panel'\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      collapse: props.collapse || false,\r\n      expand: props.expand || false,\r\n      refresh: 0,\r\n      animationName: ''\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (\r\n      'collapse' in nextProps &&\r\n      !isEqual(nextProps.collapse, prevState.collapse)\r\n    ) {\r\n      return {\r\n        collapse: !!nextProps.collapse\r\n      };\r\n    }\r\n\r\n    if ('expand' in nextProps && !isEqual(nextProps.expand, prevState.expand)) {\r\n      return {\r\n        expand: !!nextProps.expand\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  onExpand = expand => e => {\r\n    const { onChange } = this.props;\r\n\r\n    this.setState({\r\n      expand,\r\n      collapse: false\r\n    });\r\n\r\n    if (onChange) {\r\n      onChange({\r\n        expand,\r\n        collapse: false\r\n      });\r\n    }\r\n  };\r\n\r\n  onCollapse = collapse => e => {\r\n    const { onChange } = this.props;\r\n\r\n    this.setState({\r\n      collapse,\r\n      expand: false\r\n    });\r\n\r\n    if (onChange) {\r\n      onChange({\r\n        collapse,\r\n        expand: false\r\n      });\r\n    }\r\n  };\r\n\r\n  onRefresh = () => {\r\n    this.setState({\r\n      refresh: this.state.refresh + 1,\r\n      animationName: 'fadeIn'\r\n    });\r\n    this.props.onRefresh && this.props.onRefresh();\r\n  };\r\n\r\n  onClose = () => {\r\n    const { expand } = this.state;\r\n    if (expand) {\r\n      confirm({\r\n        title: '提示',\r\n        content: '您确认要关闭这个面板？',\r\n        onOk: () => {\r\n          this.props.onClose && this.props.onClose();\r\n        }\r\n      });\r\n    } else {\r\n      this.props.onClose && this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { expand, collapse, refresh, animationName } = this.state;\r\n    const {\r\n      theme,\r\n      prefix,\r\n      className,\r\n      title,\r\n      width,\r\n      height,\r\n      style,\r\n      children,\r\n      header,\r\n      cover,\r\n      scroll\r\n    } = this.props;\r\n\r\n    const classnames = cx(prefix, className, {\r\n      theme: !!theme,\r\n      'panel-fullscreen': !!expand,\r\n      'panel-collapsed': !!collapse,\r\n      cover: !!cover\r\n    });\r\n\r\n    const styles = {\r\n      ...style,\r\n      width\r\n    };\r\n    const bodyStyles = {};\r\n    if (!expand) {\r\n      bodyStyles.height = height;\r\n    }\r\n    if (scroll) {\r\n      bodyStyles.overflow = 'auto';\r\n    }\r\n\r\n    const Header =\r\n      typeof header === 'undefined' ? (\r\n        <div className={`${prefix}-header`}>\r\n          <span className={`${prefix}-header-title`}>{title}</span>\r\n          <span className={`${prefix}-header-controls`}>\r\n            <a className=\"panel-control-loader\" onClick={this.onRefresh}>\r\n              <Icon type=\"refresh\" />\r\n            </a>\r\n            <a\r\n              className=\"panel-control-fullscreen\"\r\n              onClick={this.onExpand(expand ? false : true)}\r\n            >\r\n              <Icon type={`${expand ? 'shrink' : 'enlarge'}`} />\r\n            </a>\r\n            <a\r\n              className=\"panel-control-collapsed\"\r\n              onClick={this.onCollapse(collapse ? false : true)}\r\n            >\r\n              <Icon type={`${collapse ? 'plus' : 'minus'}`} />\r\n            </a>\r\n            <Popconfirm\r\n              title=\"您确认要关闭这个面板？\"\r\n              onConfirm={this.onClose}\r\n              placement=\"topRight\"\r\n            >\r\n              <a\r\n                className=\"panel-control-remove\"\r\n                onClick={expand ? this.onClose : noop}\r\n              >\r\n                <Icon type=\"close\" />\r\n              </a>\r\n            </Popconfirm>\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        header\r\n      );\r\n\r\n    return (\r\n      <div className={classnames} style={styles}>\r\n        {Header}\r\n        <div className={`${prefix}-body`} style={bodyStyles}>\r\n          <CSSAnimate\r\n            className=\"panel-content\"\r\n            type={animationName}\r\n            callback={_ => this.setState({ animationName: '' })}\r\n            key={refresh}\r\n          >\r\n            {children}\r\n          </CSSAnimate>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Panel;\r\n","import Panel from './Panel';\r\n\r\nexport default Panel;","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"../../popover/style\");\n\nrequire(\"../../button/style\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ExclamationCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleFilled\"));\n\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../locale-provider/LocaleReceiver\"));\n\nvar _default2 = _interopRequireDefault(require(\"../locale/default\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar Popconfirm = /*#__PURE__*/function (_React$Component) {\n  _inherits(Popconfirm, _React$Component);\n\n  function Popconfirm(props) {\n    var _this;\n\n    _classCallCheck(this, Popconfirm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popconfirm).call(this, props));\n\n    _this.onConfirm = function (e) {\n      _this.setVisible(false, e);\n\n      var onConfirm = _this.props.onConfirm;\n\n      if (onConfirm) {\n        onConfirm.call(_assertThisInitialized(_this), e);\n      }\n    };\n\n    _this.onCancel = function (e) {\n      _this.setVisible(false, e);\n\n      var onCancel = _this.props.onCancel;\n\n      if (onCancel) {\n        onCancel.call(_assertThisInitialized(_this), e);\n      }\n    };\n\n    _this.onVisibleChange = function (visible) {\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      _this.setVisible(visible);\n    };\n\n    _this.saveTooltip = function (node) {\n      _this.tooltip = node;\n    };\n\n    _this.renderOverlay = function (prefixCls, popconfirmLocale) {\n      var _this$props = _this.props,\n          okButtonProps = _this$props.okButtonProps,\n          cancelButtonProps = _this$props.cancelButtonProps,\n          title = _this$props.title,\n          cancelText = _this$props.cancelText,\n          okText = _this$props.okText,\n          okType = _this$props.okType,\n          icon = _this$props.icon;\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-inner-content\")\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-message\")\n      }, icon, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-message-title\")\n      }, title)), React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-buttons\")\n      }, React.createElement(_button[\"default\"], _extends({\n        onClick: _this.onCancel,\n        size: \"small\"\n      }, cancelButtonProps), cancelText || popconfirmLocale.cancelText), React.createElement(_button[\"default\"], _extends({\n        onClick: _this.onConfirm,\n        type: okType,\n        size: \"small\"\n      }, okButtonProps), okText || popconfirmLocale.okText))));\n    };\n\n    _this.renderConfirm = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          placement = _a.placement,\n          restProps = __rest(_a, [\"prefixCls\", \"placement\"]);\n\n      var prefixCls = getPrefixCls('popover', customizePrefixCls);\n      var overlay = React.createElement(_LocaleReceiver[\"default\"], {\n        componentName: \"Popconfirm\",\n        defaultLocale: _default2[\"default\"].Popconfirm\n      }, function (popconfirmLocale) {\n        return _this.renderOverlay(prefixCls, popconfirmLocale);\n      });\n      return React.createElement(_tooltip[\"default\"], _extends({}, restProps, {\n        prefixCls: prefixCls,\n        placement: placement,\n        onVisibleChange: _this.onVisibleChange,\n        visible: _this.state.visible,\n        overlay: overlay,\n        ref: _this.saveTooltip\n      }));\n    };\n\n    _this.state = {\n      visible: props.visible\n    };\n    return _this;\n  }\n\n  _createClass(Popconfirm, [{\n    key: \"getPopupDomNode\",\n    value: function getPopupDomNode() {\n      return this.tooltip.getPopupDomNode();\n    }\n  }, {\n    key: \"setVisible\",\n    value: function setVisible(visible, e) {\n      var props = this.props;\n\n      if (!('visible' in props)) {\n        this.setState({\n          visible: visible\n        });\n      }\n\n      var onVisibleChange = props.onVisibleChange;\n\n      if (onVisibleChange) {\n        onVisibleChange(visible, e);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_configProvider.ConfigConsumer, null, this.renderConfirm);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      if ('visible' in nextProps) {\n        return {\n          visible: nextProps.visible\n        };\n      }\n\n      if ('defaultVisible' in nextProps) {\n        return {\n          visible: nextProps.defaultVisible\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Popconfirm;\n}(React.Component);\n\nPopconfirm.defaultProps = {\n  transitionName: 'zoom-big',\n  placement: 'top',\n  trigger: 'click',\n  okType: 'primary',\n  icon: React.createElement(_ExclamationCircleFilled[\"default\"], null),\n  disabled: false\n};\nvar _default = Popconfirm;\nexports[\"default\"] = _default;"],"sourceRoot":""}